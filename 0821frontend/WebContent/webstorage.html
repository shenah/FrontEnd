<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>웹 스토리지 사용</title>
</head>
<body>
	<input type="button" value="세션스토리지에 저장" id="sessionSave"/>
	<input type="button" value="로컬스토리지에 저장" id="localSave"/>
	
	<form action="login.jsp" id="loginform">
		아이디:<input type="text" id="id" required="required"/><br/>
		<input type="checkbox" value="check" id="idsave"/>아이디 저장<br/>
		<input type="submit" value="로그인"/>
	</form>
</body>
<script>
	//sessionstorage에 저장된 데이터는 브라우저를 종료하면 삭제됩니다. 
	document.getElementById("sessionSave").addEventListener("click", function(e){
		var event = e || window.event
		sessionStorage.id = "shenah2"
	})
	//localstorage에 저장된 데이터는 지워야 삭제됩니다.
	document.getElementById("localSave").addEventListener("click", function(e){
		var event = e || window.event
		//localStorage.id = "shenah2"
		localStorage.clear()
	})
	
	var idsave = document.getElementById("idsave")
	var id = document.getElementById("id")
	
	//로그인 정보 저장 및 삭제
	
	//윈도우가 로드를 끝냈을 때 
	window.addEventListener("load",function(e){
		var event = e || window.event 
		if(typeof localStorage.ids != 'undefined'){
			id.value = localStorage.ids
			idsave.checked = true;
		}
	})
	
	document.getElementById("loginform").addEventListener("submit", function(e){
		var event = e || window.event
		//체크 박스 값 확인하고 로그인 정보 저장 및 삭제
		if(idsave.checked == true){
			localStorage.ids = id.value;
		}else{
			localStorage.clear();
		}
	})
	
	
</script>
</html>